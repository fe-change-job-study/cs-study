# 공유 자원 임계 영역 교착 상태 🔥

## 공유 자원
: 컴퓨팅의 용어의 하나로, 컴퓨터 네트워크의 호스트 컴퓨터끼리 서로이용이 가능한 컴퓨터 자원이다. 


## 임계 영역
: 둘 이상의 스레드가 공유 자원에 접근할 때, 오직 한 스레드만 접근을 허용해야 하는 경우에 사용한다. 
일반 동기화 객체와 달리 개별 프로세스의 유저 메모리 영역에 존재하는 단순한 구조체이다.
따라서 다른 프로세스가 접근할 수 없으므로 한 프로세스에 속한 스레드 간 동기화에만 사용한다. 
일반 동기화 객체보다 빠르고 효율적이다.
 
* 스레드의 동기화 문제 *
: 스레드의 동기화 문제는 다중 스레드 일 때 발생가능하며 여러 스레드가 동시에 실행 될 때
2개 이상의 스레드가 동일한 데이터에 접근하여 작업할 경우 문제가 발생할 수 있습니다. 
그러므로, 하나의 스레드가 조작하고 있는 공유자원(변수, 데이터)를 다른 스레드가 조작하지 못하도록 하기 위해서 동기화가 필요합니다.
-> 스레드간의 공유도 LOCK을 이용하여 막는다. 

* 임계 영역의 문제를 해결하기 위해 필요한 조건 
1. 상호 배체 (Mutual Exclusion)
 - 하나의 프로세스가 임계 영역에 들어가 있다면 다른 프로세스는 들어갈 수 없어야 한다. 
2. 진행 
 - 임계영역에 들어간 프로세스가 없는 상태에서 들어가려 하는 프로세스가 여러개라면 오느것이 들어갈지 결정해주어야 한다. 
3. 한정대기 
 - 다른 프로세스의 기아를 방지하기 위해, 한번 임계구역에 들어간 프로세스는 다음번 임계 영역에 들어갈 때 제한을 두어야 한다. 

- 임계 영역의 동시 접근을 해결하기 위한 방법으로는 Lock, Semaphore, monitor 등이 있다. 

## 뮤텍스
 - 상호배체의 약자로 락 이라고도 한다.  뮤텍스(Mutex) = 상호배체 (Mutual Exclusion) = 락(Lock)
 - 이는 여러 쓰레드를 실행하는 환경에서 자원에 대한 접근 제한을 위한 동기화 메커니즘 
 - 상호 배제 동시성 제어 정책(Mutual Exclusion Concurrency Control Policy)를 시행하도록 설계 
 ### 뮤텍스는 Locking 메커니즘으로 오직 하나의 쓰레드만이 동일한 시점에 뮤텍스를 얻어 임계 영역에 들어올 수 있다. 
 ### 그리고 오직 해당 쓰레드만이 임계영역에서 나갈 때 뮤텍스를 해제할 수 있다. 

## 세마포어
 - 멀티 프로그래밍 환경에서 공유된 자원에 대한 접근을 제한하는 방법 
 - 세마포어 -> 뮤텍스 (가능), 뮤텍스 -> 세마포어 (불가능)


## 교착 상태
 - 두개 이상의 프로세스나 스레드가 서로 자원을 얻지 못해서 다음 처리를 하지 못하는 상태.
 - 즉 무한히 다음 자원을 기다리게 되는 상태이다. 시스템적으로 한정된 자원을 여러 곳에서 사용하려 할 때 방생 

뮤텍스와 세마포어의 차이를 화장실로 비유해준 블로그 : https://worthpreading.tistory.com/90
